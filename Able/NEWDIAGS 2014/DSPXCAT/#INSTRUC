                            INSTRUCTIONS                            ------------INTRODUCTION   This program is used to to test the DSP-70 ABLE board.  It can be used asa "go/no go" test for production AND as a diagnostic test for use by board technicians.TEST RIG   This test program requires an Able computer with either an M64K or aD16 timer.  If a D16 is being used, its jumper must be set to the 1 Mhzrate.  The program will alert you if the jumper is not properly set.  TheDSP-70 under test can be plugged into any slot of the Able bin.THE MENU   Upon running the program, you are presented with a menu with manychoices.  To select an item, type the number of the menu choice you wantand press RETURN.  Pressing RETURN without a number will display the nextpage of menu choices.  There are several pages of items.  Pressing RETURNafter the last page will return you to the first page.  You do not needto be on the page of a given item in order to select that item; you mayenter any number at any time.  The pages exist only because all the choicescould not be displayed on a single page.   The first few menu items are not tests but rather commands to theprogram itself.  Most of them toggle the state of various operating modesfrom on to off or vice-versa.  These modes are covered in a section below.   The program can be exited by pressing the BREAK key (APPLE-SPACEBAR onMacintosh computers).PRODUCTION TEST   Menu items 10 and 11 are the production tests.  Choosing either of theseitems causes a long suite of all the available test procedures to be executed in turn.  Item 10 will cause the suite to be run only once andthen stop, giving an indication of "pass" or "fail".  Item 11 will causethe entire suite to run repeatedly until you hit a key, at which pointyou will receive the "pass" or "fail" message provided that the whole suitehas been executed at least once.   These tests are intended for the purpose of testing each board asthey are produced.  Production personnel besides service techniciansprobably need not concern themselves with any aspects of this programother than these production tests.  The other facilities are intended fordiagnostic purposes to find the problem once a bad board has beenidentified.   It is recommended that the production test suite be run as many times aspossible (using menu item 11).  A board must not be regarded as good untilthe suite has run through AT LEAST twice (but preferably much longer).  Item10 is provided only for the exceptional case in which one needs to verify thegross operation of a board very quickly.   As the production suite runs, the number and a short one line descriptionof each test procedure is printed on the screen before it is executed.  Someof the procedures execute very quickly and some of them take considerablymore time.  If the program should "hang" for any reason (as indicated onthe HOP) you can see which test it hung in simply by looking at the screenand seeing the number and description of the last test printed.   The complete production suite takes on the order of 25 secondsto complete one cycle.  The program will halt at this point if item 10 waschosen or, if item 11 was chosen, it will print a message saying how manycycles have been completed and will begin again on the next cycle.  Witheither menu choice, pressing any key will cause execution of the tests tohalt upon completion of the currently executing test procedure.  If atleast one production cycle has been completed you will then receive a"pass" or "fail" message, otherwise you will be returned to the main menu.   The modes affect how the production test will deal with the detectionof errors (see the section MODES below).  Most important to note here areHalt-on-Error mode and Printout mode.  Both of these default to ONmeaning that the program will halt execution when an error is detectedand that the error will be printed out on the screen.  If you would like theprogram to run continuously without halting even if it finds one or moreerrors, then you should turn Halt-on-Error mode OFF.  When the productiontest is over (one cycle complete with item 10, or hitting a key withitem 11) you will still receive a "pass" or "fail" message as appropriate.If you would like the production test to run continuously and not spendthe large amount of time that it takes to print out zillions of errormessages stemming from the same fault, then turn Printout mode OFF.This will both keep the program from halting and from printing an errormessage when faults are detected.  Again, when the production test isover, you will still receive a "pass" or "fail" message.ERROR LOGGING   This test program includes an error logging facility.  The program logsthe first 50 errors that are encountered within a "suite test" (production,repeat group, or random order tests) and the last (or latest) 50 errors.If there are fewer than 100 total errors, then these two lists overlap.These error logs can be viewed by chosing menu item 13.  You will be promptedfor whether you wish to view the first or last 50 errors.  The "first"errors are presented in the order in which they were detected.  The "last"errors are presented in reverse order; the most recently detected ispresented first, then the next most recent, etc.  The errors are presented inexactly the same format as they were, or would have been displayed, when theyactually occurred.   If errors were detected during a production test suite and the suite wascompleted, you will be automatically placed in the error log review facilityupon breaking out the production suite.  The error log can also be viewedat any time simply by choosing menu item 13.  The error log is cleared onlywhen a new "suite test" is initiated.   The purpose of the error logging facility is to catch infrequent errorswithout halting the system (and thereby preventing the detection of furthererrors) the first time an error is found.  It is intended to be used with a"suite test" with Printout mode or Halt-on-Error mode OFF.  With either ofthese modes off, the "suite test" will continue to run even after errors aredetected.  If Halt-on-Error mode is off, the errors will be shown on thescreen but will scroll off the top and will take up an often very largeamount of time to print.  If Printout mode is off, the errors will not showup on the screen at all but the program will be keeping track of them anyway.When the "suite test" is over, you will be informed of the existence oferrors if any occurred."STAND ALONE" TESTS   The bulk of the menu items (16 on) are the "stand alone" tests.  Theseare the same tests that get run in numerical order as a "suite" in theproduction test.  The numbers that get printed on the screen for each testduring the production suite is the same as the menu item number of that test.Putting each test on the menu allows you to run any one of the tests procedures individually for diagnostic purposes.   There are two differences in action when running these testsindividually as opposed to running them as part of a suite:   - A verbose textual description of what the test does will be printed     on the screen in addition to the one line brief description.   - The test will run continuously in a loop until a key is pressed.     A message is printed telling how many times the test has cycled     (provided Printout mode is ON).  This looping feature allows the     service technician to "scope out" a problem while the offending test     procedure runs continuously.  See the "HINTS FOR DIAGNOSTIC USE"     section below for more information.RESET AND BOOTLOAD ITEMS (and general discussion of 56001)   The DSP-70 board contains a Motorola 56001 microprocessor chip.  Thischip can run its own programs independent of the Able processor.  Thistest program has some tests that run without requiring the 56001 to runa program of its own.  These tests are found on the first test menu page.Most of the tests in this program, however, require that the 56001 be running its own code simultaneously with the execution of this program onthe Able.  The code that the 56001 runs must be loaded into the 56001'sinternal program memory from a file in the current catalog on the Able.This operation is called "bootloading" and is performed at one of two times.Bootloading can be forced by choosing the "Bootload 56001" menu item.Otherwise, the program will automatically bootload the first time a testis run that requires the code in the 56001.   The file that contains the 56001 object code that is bootloaded iscalled "56000OBJ".  This file must be in the current catalog.  The programwill alert you if it can't find this file.   Choosing the "Reset 56001" will toggle the Reset bit in D71 causing (ifthis aspect of the DSP-70 is working) the 56001 to execute a hard reset.This will not generally be necesary but is provided here anyway.   Bootloading is initiated by reseting.  The Reset 56001 menu item willcancel the bootload by writing the 56001 Interrupt Control Register (ICR)with the Host Flag 0 bit set (see the Motorola document "DSP56001 TechnicalSummary").  If the 56001 code has already been loaded, the reset operationwill return the 56001 to a "ground" state.GENERAL PURPOSE DEVICE ADDRESS READ/WRITE FACILITY   Item 14 is the Device Address Rd/Wr facility.  This facility allows youto read or write arbitrary values to device addresses related to the DSP-70.Choosing the item will give a more detailed description.  The reads andwrites can be done in a "one shot" fashion or continuously in a loop.  The"Extra info" and "Scroll" modes affect the operation of this facility.  Thisfacility will probably be useful only in special diagnostic situations.REPEAT CERTAIN TESTS FACILITY   This facility, accessed with menu item 15, allows you to run any arbitrarysuite of standalone tests in any order until you hit a key.  The programprompts you to enter the numbers of the tests you wish to run in the orderin which you wish to run them.  For more information, choose the item andread the instructions presented there.MODES   The first few menu items do not select test routines but toggle severalmodes instead.  Different combinations of modes may be useful at varioustimes.  The program starts up with default mode settings that should bemost useful for the standard production test.  Selecting a mode menu itemwill flip the state of that mode from ON to OFF or vice-versa.   The modes are as follows:   - Error-Beep mode:   Beeps when a fault is detected when ON.   - Error-Scroll mode:  Information is printed on subsequent       lines on the screen causing the screen to scroll when the cursor       gets to the bottom.  If OFF, information will print to specific       areas on the screen and will overwrite previous material.  This is       useful for seeing consistent errors within shifting patterns of bits        or for other purposes.   - Printout mode: When OFF, will not print any information on the screen,       including error report information, during the execution of a test.       The act of printing on the screen is very slow and thereby slows       down the test loop greatly especially when faults are consistently       encountered.  Turning this mode OFF can is useful to speed up the       test loop for diagnostic o'scoping purposes.   - Halt-on-Error mode: When ON, the program will stop after every fault       encountered and wait for you to press a key before continuing.       Otherwise, the program will simply continue to run reporting faults       as they are encountered in the manner specified by other modes.   - Single-Shot mode: When ON, choosing a "stand-alone" test will cause it       to run only once before the program returns to the menu.  Normally       (mode OFF) a stand-alone test will run continuously until a key is       pressed.  This mode "fell out" of the implementation of the test       suites and is probably of limited usefulness.HINTS FOR DIAGNOSTIC USE (Servicing)   - Use the RESTART button on the HOP to rapidly restart the program.     Note that all the modes are reset to their default values after     restarting.   - The many "stand alone" tests were provided with the intention that     they could be used as "scope loop" tests.  That is, when you choose     one of those items, the corresponding test procedure will be run     over and over in a loop until you hit a key.  This allows you to     use an oscilloscope to find out what's going on.  To do this you     may need to change some of the mode settings.  Turn the Halt-on-Error     mode off to keep the loop running despite the faults.  Turn Printout     mode off to keep the program from wasting so much time printing error     messages, test iteration numbers, and other info on the screen.  Turn     Beep mode off to prevent all that annoying beeping.  Set Scroll mode     as you desire if Printout mode is left on.   - You can find the place in the source code where a particular fault     was detected by making note of the 'error code' printed out and     searching for the string "call error (x", where x is the error code     number.  Use the FIND monitor command to find the appropriate source     code file, then the editor search command (/) to find the line.  The     "call error (x" is where the call to the procedure "error" was made     when the fault indicated by error code x was detected.  The procedure     error prints out the error message that you read when you got the     error code.   - The Device address read/write facility was provided for diagnostic use.     This facility can write or read arbitrary values to and from device     addresses "70", "71", and "72", and can read from "1", "51", and "55".     Extra-Info mode must be ON for read values to be printed on the     screen.  The facility will prompt you for whether you wish to read or     write just once or in a loop.  With Extra-Info mode off, looped reads     and writes occur very rapidly and can be useful for scoping signals.RELATED FILES   A file named "-CATALOG" was distributed along with the catalog of filesassociated with this test program.  Read that file to learn more about thesource code and other files associated with this program.