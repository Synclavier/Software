/* :SYNMODS:POLYDCL  $TITLE  POLYDCL - POLY MEMORY ROUTINES   Modified:   12/13/88 - TSS - Moved & renamed PEEK_STM_CONFIG to READ.STM.CONFIG   04/13/88 - MWH - Add routine to do general fade-in or fade-out   02/01/88 - MWH - Expand crossfade times to 65.535 seconds   07/30/87 - MWH - Add POLY.WRITEDATA   07/17/87 - MWH - GET OLD :SYNLITS:POLYLITS HERE (TEMPORARILY) INSTEAD   07/15/87 - MWH - PUT ARGS TO POLY.READDATA IN MORE SENSIBLE ORDER   07/14/87 - MWH - SET.BIN.FROM.BASE TAKES (ARRAY), NOT (FIXED)   07/02/87 - MWH - GET LITERALS FROM :SYNAUXS:POLYLITS   06/15/87 - MWH - UPDATED FOR EXPANDED POLY   */DCL SFILE.BASE    FIXED ARRAY EXTERNAL;   /* RETURNS SECTOR OF POLY/EXT MEM IN GLOBAL VARIABLES */DCL PSFIRSTS      FIXED ARRAY EXTERNAL;   /* POINTER TO START OF SOUND FILES IN POLY MEM */DCL PSLASTS       FIXED ARRAY EXTERNAL;   /* POINTER TO START OF FREE SPACE AFTER THE LAST SOUND FILE */DCL PSMAXS        FIXED ARRAY EXTERNAL;   /* POINTER TO THE END OF POLY MEMORY */DCL PSFREES       FIXED ARRAY EXTERNAL;   /* # SECTORS UNUSED (EVEN IF CONTAINING A SOUND FILE */DCL PSHERES       FIXED ARRAY EXTERNAL;   /* ROTARY POINTER TELLING WHERE TO START LOADING FILES-LRU OF UNUSED */DCL POLYAMOUNTS   FIXED ARRAY EXTERNAL;   /* HOW MUCH POLY MEMORY EXISTS IN EACH BIN */DCL POLYADCS      FIXED ARRAY EXTERNAL;   /* SET TO 1 IF POLY A/D CONTROLLER IS PRESENT */DCL ADCONFIGS     FIXED ARRAY EXTERNAL;   /* NUM BOXES A/D MAP */DCL POLYNUMVS     FIXED ARRAY EXTERNAL;   /* HOW MANY VOICES IN THIS POLY BIN */DCL POLYUSED      FIXED ARRAY EXTERNAL;   /* USED TO KEEP TRACK OF CHANNEL USAGE */DCL POLYNUMS      FIXED       EXTERNAL;   /* HOW MANY POLY BINS EXIST */DCL #CBINCODE     FIXED       EXTERNAL;   /* WHICH BIN WE ARE ACCESSING */DCL POLY.READ.ABORTED FIXED EXTERNAL;        /* SET TO ABORT POLY IO */DCL XFADE.SEC         FIXED EXTERNAL;        /* SECTORS IN CROSSFADE */DCL XFADE.WRD         FIXED EXTERNAL;        /* WORDS   IN CROSSFADE */DCL ALLOW.POLY.STOP FIXED EXTERNAL;			/* SET TRUE TO ALLOW BREAK REPORTING FROM COPY.POLY.MEM */DCL SET.CUR.BIN       PROC(FIXED) EXTERNAL;  /* SET POLY BIN NUMBER */DCL SET.BIN.FROM.BASE PROC(ARRAY) EXTERNAL;  /* SET POLY BIN FROM 32 BIT BASE */DCL READ.STM.CONFIG    proc (fixed) returns (fixed) external; /* GET STM CONFIGURATION INFO */DCL PSMREAD  PROC(ARRAY,FIXED,FIXED) EXTERNAL;     /* SET UP FOR POLY SYNTH MEMORY READ */DCL PSMWRITE PROC(ARRAY,FIXED,FIXED) EXTERNAL;     /* POLY SYNTH MEMORY WRITE */DCL POLY.OUT PROC(FIXED,FIXED) EXTERNAL;     /* COPY BLOCK TO POLY MEM - SET UP WRITE ADDRESS BEFORE CALLING */DCL POLY.IN  PROC(FIXED,FIXED) EXTERNAL;DCL COPY.POLY.MEM PROC (ARRAY,FIXED,FIXED,ARRAY,FIXED,FIXED,FIXED,FIXED) EXTERNAL;DCL COPY.POLY.MEM.SEC PROC(ARRAY,FIXED,ARRAY,FIXED,FIXED) EXTERNAL;  /* HIGH SPEED COPIES - COPIES UP OR DOWN, ANY LENGTH, IN POLY MEMORY - LENGTH IN SECTORS */DCL POLY.READDATA PROC(FIXED,FIXED,ARRAY,FIXED,FIXED,FIXED) EXTERNAL; /* DISKREAD INTO POLY MEMORY */DCL POLY.WRITEDATA PROC(FIXED,FIXED,ARRAY,FIXED,FIXED,FIXED) EXTERNAL; /* DISK WRITE INTO POLY MEMORY */DCL GET.CROSSFADE.WRD.LEN  PROC(FIXED,FIXED,FIXED) RETURNS (FIXED) EXTERNAL;DCL POLY.CROSS.FADE PROC(ARRAY,FIXED,FIXED,ARRAY,FIXED,FIXED,ARRAY,FIXED,FIXED,FIXED,FIXED,FIXED) EXTERNAL;DCL POLY.FADE PROC(ARRAY,FIXED,FIXED,ARRAY,FIXED,FIXED,FIXED,FIXED,FIXED,FIXED) EXTERNAL;DCL PS.SEARCH     PROC  EXTERNAL;   /* SEE IF FILE NAME IS IN MEMORY */DCL PS.LOCK       PROC  EXTERNAL;   /* LOCK POLY MEMORY WHEN CHANGING ITEMS */DCL PS.UNLOCK     PROC  EXTERNAL;   /* SAVE INFO IN POLY MEMORY */DCL PS.USERS      PROC(ARRAY,FIXED) EXTERNAL;  /* UPDATE USER FIELD FOR FILE RECORD IN EXT MEM */INSERT ':SYNAUXS:POLYLITS';LIBRARY ':SYNLIBS:POLYLIB';