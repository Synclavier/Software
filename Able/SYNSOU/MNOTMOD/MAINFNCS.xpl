/*   10/29/87 - lpg - added record button (ctrl/d)   10/23/87 - lpg - added mouse insert/delete   5/30/86 - adt & eg - updated to work with rel M   5/20/86 - eg - made procedures and some variables pub.   5/15/86 - "official" creation of release-M modules*/pos.seqed.cursor:proc swapable;   call cpos(TCUR_ROW,TCUR_COL);end pos.seqed.cursor;seqed.menu.input:proc (MODE,C,row,col,core_area,action) swapable;   dcl mode        fixed;    /* input mode (in.abbs, in.char) */   dcl C           fixed;    /* staff/character               */   dcl row         fixed;   dcl col         fixed;   dcl (core_area) array;   dcl action      fixed;    /* indicates delete/position/add */   if mode = in.chin then do;      if C = esc then do; /* ESC or MOUSE ESC return to Main Menu */         EXIT.MY.SCREEN = 1;      end;      else if C = "20" then call START.SEQUENCER;        /* CTRL-P:  START Recorder (P --> Play) */      else if C = "05" then call STOP.SEQUENCER;         /* CTRL-E:  STOP Recorder (E --> End Play) */      else if C = "03" then call CONTINUE.SEQUENCER;     /* CTRL-C:  CONTINUE Recorder */      else if C = "06" then call FAST.FORWARD.SEQUENCER; /* CTRL-F:  FAST FORWARD Recorder */      else if C = "22" then call REWIND.SEQUENCER;       /* CTRL-R:  REWIND Recorder */      else if C = "04" then call PROCESS.RECORD.BUTTON;  /* CTRL-D:  START RECORDING */      else if C = "26" then call PROCESS.PUNCH.BUTTON;   /* CTRL-V:  PUNCH RECORDER */      else if C = "30" then do;        HELP_MODE          = ~HELP_MODE;        BEGINNER_MODE      = false;        full.seqed.refresh = true;      end;      else if C = asc.h \ C = lower.h then do; /* Print screen */         if D40_PRESENT<>0               /* if device available */         then do;            call HARDCOPY;                      end;         else call no.printer;      end;      else do case SEQED_MODE;        call SEQED_MENU (mode,C,row,col,core_area);        call SEQED_EDIT (mode,C,row,col,core_area,action);      end;   end;   else do case SEQED_MODE;     call SEQED_MENU (mode,C,row,col,core_area);     call SEQED_EDIT (mode,C,row,col,core_area,action);   end;      new.ABLE.seq.info = new.ABLE.seq.info \ 4;  /* force update after character is typed */end seqed.menu.input;