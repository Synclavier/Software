/* Optical Disk Management Routines */insert ':-xpl:optlits';  /* get optical literals */dcl O$BufPtr       fixed external; /* buffer pointer */dcl O$BufMed       fixed external; /* 0: internal memory, 1: external memory */dcl O$Volume_Name  fixed array external; /* volume name */dcl O$Volume_Time  fixed external; /* volume time */dcl O$MS_DirStart  fixed external; /* sector start of directory */dcl O$LS_DirStart  fixed external;dcl O$MS_DirLen    fixed external; /* sector length of directory */dcl O$LS_DirLen    fixed external;dcl O$MS_DataStart fixed external; /* sector start of data area */dcl O$LS_DataStart fixed external;dcl O$MS_DataLen   fixed external; /* sector length of data area */dcl O$LS_DataLen   fixed external;dcl O$EntryCount   fixed external; /* no. directory entries on optical disk */dcl init_optical_controller proc external; /* call FIRST to set up controller type */dcl Set_OptBuf      proc(fixed,fixed) external; /* set buffer pointers */dcl pbuf            proc(fixed,fixed) external; /* store a word in the buffer */dcl gbuf            proc(fixed) returns (fixed) external; /* retrieve a word from the buffer */dcl GetDateTime     proc(fixed array) returns (boolean) external; /* get date and time from clock */dcl SecToEntry      proc(fixed,fixed) returns (fixed) external; /* convert sector no. to directory entry no. */dcl EntryToSec      proc(fixed) external; /* convert entry no. to a sector no. */dcl TransferOptical proc(fixed,fixed,fixed,fixed,fixed) returns (fixed) external; /* read data into the buffer */dcl ReadEntry       proc(fixed,fixed) returns (fixed) external; /* read a directory entry */dcl WriteEntry      proc(fixed,fixed) returns (fixed) external; /* write a directory entry */dcl ReadEntries     proc(fixed,fixed,fixed) returns (fixed) external; /* read directory entries */dcl WriteEntries    proc(fixed,fixed,fixed) returns (fixed) external; /* write directory entries */dcl SearchEmptyBlocks      proc(fixed,fixed,fixed,fixed,fixed) returns (boolean) external; /* search for free space on disk */dcl SearchEmpty1024kBlocks proc(fixed,fixed,fixed,fixed,fixed) returns (boolean) external; /* search for free space on disk */dcl FindNextUnused  proc(fixed,fixed,fixed,fixed,fixed) returns (boolean) external; /* find next unused block in the given section */dcl FindEntryCount  proc(fixed) returns (fixed) external; /* find no. directory entries */dcl ReadHeader      proc(fixed) returns (boolean) external; /* read volume header and set up globals for this disk */dcl WriteHeader     proc(fixed array,fixed) returns (boolean) external; /* write volume header */dcl Get_Statistics  proc(fixed,fixed array) returns (boolean) external; /* get disk statistics */dcl Optical_Format  proc(fixed array,fixed array,fixed,fixed,fixed,fixed) returns (boolean) external; /* format a new disk */dcl Optical_Replace proc(fixed array,fixed,fixed,fixed,fixed,fixed array,fixed,fixed) returns (boolean) external; /* replace on optical */dcl Optical_Delete  proc(fixed array,fixed,fixed) returns (boolean) external; /* delete file */dcl Optical_Update  proc(fixed array,fixed array,fixed array,fixed,fixed) returns (boolean) external; /* update file */dcl Optical_Locate  proc(fixed array,fixed) returns (boolean) external; /* find file */