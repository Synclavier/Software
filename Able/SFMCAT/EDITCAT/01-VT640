/* $TITLE Package of VT640 Plotting and Terminal Management Routines *//* Copyright 1983 by New England Digital Corporation */dcl Mode fixed;  /* Terminal printing mode *//* Literals for the mode states the terminal can be in */dcl #Transparent lit '0'; /* ? */dcl #Alpha       lit '1'; /* ? */dcl #Vector      lit '2'; /* ? */dcl #Point       lit '3'; /* ? */dcl Physical.Limits data(0,1023,0,779); /* Physical coordinate limits */dcl Char.Size       fixed; /* Size to print graphics characters */dcl (Last.X,Last.Y) fixed; /* Coordinates of last point used */dcl Transparent_Mode lit 'if Mode <> #Transparent then do; WCHAR("30"); Mode = #Transparent; end';dcl Alpha_Mode       lit 'do; WCHAR("37"); Mode = #Alpha;  end';dcl Vector_Mode      lit 'do; WCHAR("35"); Mode = #Vector; end';dcl Point_Mode       lit 'do; WCHAR("34"); Mode = #Point;  end';Clear.VT640: proc;   VECTOR_MODE;   WCHAR(A.ESC);   WCHAR(A.FF);   TRANSPARENT_MODE;   WAIT(150);end Clear.VT640;dcl Clear_VT640 lit 'call Clear.VT640';Set.Char.Size: proc (Size);   dcl Size fixed;      ALPHA_MODE;   if (Size >= 0) or (Size <= 3) then do;      WCHAR(A.ESC);      WCHAR(A.0 + Size);      Char.Size = Size;   end;end Set.Char.Size;dcl Set_Char_Size lit 'call Set.Char.Size';Plot.String: proc (String);   dcl String   fixed array;   dcl Old.Mode fixed;   Old.Mode = Mode; /* Save current mode */   VECTOR_MODE;   SET_CHAR_SIZE(Char.Size);   PSTRING(String);   do case (Old.Mode); /* Restore old terminal mode */      TRANSPARENT_MODE;      ALPHA_MODE;      VECTOR_MODE;      POINT_MODE;   end;end Plot.String;dcl Plot_String lit 'call Plot.String';eof;