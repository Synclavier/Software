configuration modeld,muldiv; pdl 1024; /* Use 512 for B & C, 1024 for D */insert ':-xpl:intrprtr';								// bring in interpreter interface	dcl PS_PRINTER_WRITE_ONLY	lit 'interp_is_running';	// if true, write to printer only (e.g. don't read it and don't wait for it)dcl PS_EMIT_FONTS			lit '1';					// set true to emit font stuffdcl MODEL_B         lit '0',    MODEL_C         lit '1'; /* Use for model D also */dcl DEBUG           lit '0';  /* If set, include debugging code */dcl SWAP0           lit 'swap', /* Always swap unless debugging */    SWAP1           lit 'swap', /* List (Get System only) */    SWAP2           lit 'swap', /* Edit */    SWAP3           lit 'swap', /* Plot */    SWAP4           lit 'swap', /* Pics */    SWAP5           lit '',     /* Pic scan */    SWAP6           lit 'swap', /* Sync seq */    SWAP7           lit 'swap', /* Hard */    SWAP9           lit 'swap'; /* Globs */insert ':mplt:synclits';            /* Synclavier literals */dcl WHOLE#        lit '0',    /* Whole note */    HALF#         lit '1',    /* Half note */    QUARTER#      lit '2',    /* Quarter note */    EIGHTH#       lit '3',    /* Eighth note */    /* Note head types */    HD_STANDARD#  lit '"0"',    HD_GRACE#     lit '"1"',    HD_XNOTE#     lit '"2"',    HD_SHAPE#     lit '"3"',    HD_4SHAPE#    lit '"4"',    HD_NONE#      lit '"5"',    HD_PERC#      lit '"6"',    /* Shapes 10 - 17 are the shaped note shapes (white or black) */    /* Shapes 20 - 27 are the hammered dulcimer shapes (white or black) */    HD_LHD#       lit '"20"',    HD_RHD#       lit '"21"',    HD_BHD#       lit '"22"',    /* Shapes 30 - 37 are string notations */    HD_HARM#      lit '"30"',    HD_DIAM#      lit '"31"',    DOUB_SHARP# lit '1', /* Double sharp */    SHARP#      lit '2', /* Sharp */    NATURAL#    lit '3', /* Natural */    FLAT#       lit '4', /* Flat */    DOUB_FLAT#  lit '5', /* Double flat */    SINGLE_CLEF# lit '5',    TABLATURE#   lit '6',    ENHARMONIC#  lit '"200"', /* Enharmonic change (as opposed to accidental) */    INVISIBLE#   lit '"200"', /* Clef or key not plotted */    RESTORE#     lit '"100"', /* Clef restored on next line */    NO_CANCEL#   lit '"100"', /* Key not canceled at change */    NUMBERED#    lit '256',   /* Temp position in BUFF of NUMBERED_SEQUENCE */    REST_KEY# lit '63',      /* Key number for a rest */    REST#     lit '-1',      /* Null key number (internal) */    /* Track stati */    UNINIT#   lit '0',       /* Values invalid */    VALID#    lit '1',       /* Values valid but out of position */    ACTIVE#   lit '2',       /* Values valid - track being read */    OUT#      lit '3',       /* Track unused or exhausted */    /* Fonts */    F_RESET#      lit '-1', /* Set CURRENT_FONT to F_RESET# to force a setfont */    F_STANDARD#   lit '0',    F_ITALIC#     lit '1',    F_BOLD#       lit '2',    F_BOLDITALIC# lit '3',    F_MUSIC#      lit '4',    F_USER#       lit '5',    F_EXTENDED#   lit '6',    F_ALPHA#      lit '7',    F_TITLE#      lit '8',    F_SUBTITLE#   lit '9',    F_SYMBOL#     lit '10',    F_SMALL#      lit '11',    F_DOUBLE#     lit '12',    F_TABLATURE#  lit '13', F_LITTLE# lit '13',    /* For Head/Tail vectors */    HEAD# lit '0',      TAIL# lit '1',    CURC# lit '2',      /* Current */    INIT# lit '2',      /* Initial */    /* For Mask Flags */    NOMASK# lit '0',    B_MASK# lit '1',    C_MASK# lit '2',    /* For Edit Stack */    MEDP# lit '0',      /* Master edit pointer */    MEDI# lit '1',      /* Master edit index */    MEDE# lit '2',      /* Master edit end */    EDP#  lit '3',      /* Edit pointer */    EDI#  lit '4',      /* Edit index */    EDE#  lit '5',      /* Edit end */    /* Lines          Spaces */    L0 lit '72',    S0 lit '75',    L1 lit '78',    S1 lit '81',    L2 lit '84',    S2 lit '87',    L3 lit '90',    S3 lit '93',    L4 lit '96',    S4 lit '99',    L5 lit '102',   S5 lit '105',    L6 lit '108',    /* Masks for 16 bit words */    MASK1      lit '"000001"',    MASK2      lit '"000003"',    MASK3      lit '"000007"',    MASK4      lit '"000017"',    MASK5      lit '"000037"',    MASK6      lit '"000077"',    MASK7      lit '"000177"',    MASK10     lit '"001777"',    MASK11     lit '"003777"',    MASK12     lit '"007777"',    MASK13     lit '"017777"',    MASK14     lit '"037777"',    MASK15     lit '"077777"',    LBYTE      lit '"000377"',  /* Lower byte */    UBYTE      lit '"177400"',  /* Upper byte */    SECN4      lit '"000360"',  /* Second nibble */    THRD4      lit '"007400"',  /* Third nibble */    FRTH4      lit '"170000"',  /* Fourth nibble */    SIGN_BIT   lit '"100000"',  /* Sign Bit */    COM_BIT    lit '"100000"',  /* Editor Command marker */    SYM_BIT    lit '"040000"',  /* Editor Symbol marker */    /* Format bits */                               /* Default             */    F_MANFD    lit '"100000"', /* 0   Manual feed     */    F_END      lit '"040000"', /* 1   End of piece on */    F_COMT     lit '"020000"', /* 1   Common time     */    F_CUTT     lit '"010000"', /* 0   Cut time        */    F_BRST     lit '"004000"', /* 1   Block rests on  */    F_1RST     lit '"002000"', /* 0   Block rests from 1 */    F_LAND     lit '"001000"', /* 0   Landscape orientation (vs Portrait) */    F_FWDR     lit '"000400"', /* 1   Forward reading (vs Reverse reading) */    F_LVDOT    lit '"000200"', /* 0   lower voics dots go down vs up */    /* PLOTBITS */    P_FOFF1    lit '"004000"', /* Flags off voice 1 */    P_FOFF0    lit '"002000"', /* Flags off voice 0 */    P_SOFF1    lit '"001000"', /* Stems off voice 1 */    P_SOFF0    lit '"000400"', /* Stems off voice 0 */    P_POFF     lit '"000200"', /* Plot off */    P_BOFF     lit '"000100"', /* Bars off */    P_BMOFF1   lit '"000040"', /* Beams off voice 1 */    P_BMOFF0   lit '"000020"', /* Beams off voice 0 */    P_ROFF1    lit '"000010"', /* Rests off voice 1 */    P_ROFF0    lit '"000004"', /* Rests off voice 0 */    P_MNOFF    lit '"000002"', /* Measure numbers off */    /* Fixed part bits (PBITS) */    P_PLOT     lit '"100000"', /* Plot part */    P_OBAR     lit '"040000"', /* Open score bar   \ Continue  */    P_CBAR     lit '"020000"', /* Closed score bar / score bar */    P_OBRC     lit '"010000"', /* Open brace   \ One staff */    P_CBRC     lit '"004000"', /* Closed brace / score bar */    P_BBRK     lit '"002000"', /* Bar break */    P_CBRK     lit '"001000"', /* Complete bar break */    P_BLKR     lit '"000400"', /* No block rest #'s this part */    /* Changing part bits (PBITS) */    P_LOER     lit '"000200"', /* L -> Lower half of grand staff */    P_UPER     lit '"000100"', /* U -> Upper half of grand staff */    P_BEND     lit '"000040"', /* B -> Bend */    P_FLAT     lit '"000020"', /* f -> Flat */    P_NATR     lit '"000010"', /* N -> Natural */    P_JAZZ     lit '"000004"', /* J -> Jazz syncopation mode */    P_CLAS     lit '"000002"', /* C -> Classical syncopation mode. M -> Modern */    /* Heap Record Bits */    H_TIED     lit '"000200"', /* Tied to note */    H_SLUR     lit '"000100"', /* Slur */    H_DONE     lit '"000040"', /* Done */    H_UPDATE   lit '"000020"', /* Update record*/    H_GUITAR   lit '"000010"', /* Guitar record*/    H_SET      lit '"000004"', /* Direction has been set */    H_DIR      lit '"000002"', /* Stem Direction */    H_VOICE    lit '"000001"', /* Voice */    /* Position Record Bits */    B_EOP      lit '"100000"', /* End of piece */    B_EOL      lit '"040000"', /* End of Line */    B_SOT      lit '"020000"', /* Start of tuplet */    B_BAR      lit '"010000"', /* Barline */    B_RNOT     lit '"004000"', /* Reverse note (spacing of chords) */    B_FNOT     lit '"002000"', /* Forward note */    /* Voice       '"001000"', */    /* Offset      '"000400"', */    B_DBAR     lit '"000200"', /* Double bar */    B_CREP     lit '"000100"', /* Closed repeat */    B_OREP     lit '"000040"', /* Open repeat */    B_TIME     lit '"000020"', /* Time */    B_CLEF     lit '"000010"', /* Clef */    B_REST     lit '"000004"', /* Rest */    B_EBAR     lit '"000002"', /* End of piece bar *//*  spare      lit '"000001"', */    B_HDBR     lit '"000200"', /* Held double bar (no longer used) */    B_HREP     lit '"000100"', /* Held open repeat */    B_HTIM     lit '"000040"', /* Held time *//*  spare      lit '"000020"', */    /* Note Record Bits */    B_SET      lit '"100000"', /* Direction has been set */    B_DIR      lit '"040000"', /* Stem Direction */    B_FLAG     lit '"020000"', /* Stemmed note has a flag */    B_BREAK    lit '"010000"', /* Break the beam */    B_MEND     lit '"004000"', /* Mend the beam */    B_PBRK     lit '"002000"', /* Partial beam break */    B_ROFF     lit '"002000"', /* Inhibit rest when two voices or rests */    B_CREST    lit '"001000"', /* Center rest (whole) */    B_DOT      lit '"000400"', /* Dotted note */    B_OTIE     lit '"000200"', /* Open tie */    B_CTIE     lit '"000100"', /* Closed tie */    B_STEM     lit '"000040"', /* Stem from this note (Note record only) */    B_SUPREST  lit '"000040"', /* Suppress rest (Rest record only) */    B_SPACED   lit '"000020"', /* Spacing (etc) has been set */    B_EOT      lit '"000010"', /* End of tuplet */    /* Rest        '"000004"', */    B_TUP      lit '"000002"', /* Tuplet record */    B_VOICE    lit '"000001"', /* Voice */    /* Note Record Position Bits (D5,THRD4) */    /* spare   lit '"004000"', */    B_NOFF     lit '"002000"', /* Note offset */    /* Voice       '"001000"', */    /* Offset      '"000400"', */    /* Overlay status bits */    C_NOCLEAR  lit '"000400"',    /* Sequence Bits */    S_UPDATE   lit '"100000"', /* Update */    S_GUITAR   lit '"004000"', /* Guitar */    S_OCTUP    lit '"000200"', /* Key number an octave up */    S_OCTDN    lit '"000100"', /* Key number an octave down */    /* Symbol Bits */    S_INVERT   lit '"100000"', /* Invertable symbol */    S_DOUB     lit '"040000"', /* Double width symbol*/    S_MSBX     lit '"020000"', /* Most significant X advance bit stored in the symbol library */    /* Edit Record Bits */    R_BTX      lit '"002000"', /* Set to mark boxed text */    R_DTX      lit '"001000"', /* Set to mark double size text */    R_ALF      lit '"000400"', /* Set to distinguish alpha rec from font rec */    R_SMSLR    lit '"100000"', /* Small cubic slur */    R_DOTTED   lit '"040000"', /* Dotted slur */    R_EXT      lit '"100000"', /* Extended font mode */    R_LIB      lit '"040000"', /* Library */    R_MID      lit '"020000"', /* Midpoint of a slur */    R_DIR      lit '"010000"', /* Direction of symbol */    R_COMT     lit '"000040"', /* Common time */    R_CUTT     lit '"000020"', /* Cut time */    XMEM_BIT   lit '"001000"', /* Status word (D51) bit */    /* Miscellaneous flags */    /* Direction of invertable symbols */    UP#        lit '0',       DN#        lit '1',    /* Main modes */    DISPLAY#        lit '0',     SYSEDIT#        lit '1',    PRINT#          lit '2',    EXTRACT#        lit '3',    TEST#           lit '4',    /* Commands to main driver */    START#          lit '0',     RECALL#         lit '1',    STORE#          lit '2',    CONVERT#        lit '3',    PLAY#           lit '4',    MONITOR#        lit '5',    /* External Memory Device Definitions */    SECT$           lit '"60"',    WORD$           lit '"61"',    DATA$           lit '"62"',    DATI$           lit '"63"',    /* Machine Code Definitions */    R0              lit '"300"',    R0I             lit '"320"',    MR0             lit '"340"',    MR0I            lit '"360"',    R13             lit '"313"',    R13I            lit '"333"',    MR13            lit '"353"',    MR13I           lit '"373"',    NOP             lit '"324"',    /* Record Structure Offsets */    GRP        lit '1',  /* Group pointer */    REV        lit '2',  /* Sequence pointer */    D0         lit '1',    D1         lit '2',    D1X        lit '3',    D2X        lit '3',    D2         lit '4',    D3         lit '5',    D4         lit '6',    D5         lit '7',    D6         lit '8',    BT         lit '8',  /* bits field */    /* Screen size constants */    WIN_DIF#               lit '(WIN_TOP# - LOWER_TOP#)',    HW#                    lit '90', /* Half Window Point */    /* Symbol size/position constants */    TIMESIG_GAP            lit '20',    STANDARD_STEM          lit '21', /* Default stem length */    OCTAVE#                lit '21', /* Vertical size of 1 octave */    TIE_X_POS#             lit '3',    TIE_Y_POS#             lit '5',    BEAM_SPACING           lit '6',    FLAG_SPACING           lit '6',    /* Miscellaneous constants */    MAX_PARTS              lit '64',    MASTER_PART            lit 'MAX_PARTS',    MAX_INT#               lit '"077777"',  /* Maximum integer */    MIDDLE_C               lit '24', /* Default split point */    D40_STR_SIZ            lit '160', /* 160 char buffer (80 words) */    CSC#                   lit '75',  /* Character Spacing Constant */    WIDTH_TABLE_LENGTH     lit '512', /* Length of character width table */    CLICK_REC_POS#         lit '64',    MAX_SYSTEM_TRACKS#     lit '200',    MAX_LEGAL_TRACKS#      lit '127',    /* Music Printing Magic Numbers */    REV_A.1# lit '"H0001"',    REV_B.1# lit '"H0101"',    REV_B.2# lit '"H0102"',    REV_C.1# lit '"H0201"',    REV_C.2# lit '"H0202"',    REV_D.1# lit '"H0301"',    REV_D.2# lit '"H0302"',    REV_D.3# lit '"H0303"',    REV_E.0# lit '"H0400"',    REV_E.1# lit '"H0401"',    REV_E.2# lit '"H0402"',    REV_F.1# lit '"H0501"',    REV_F.2# lit '"H0502"',    REV_F.3# lit '"H0503"',    REV_F.4# lit '"H0504"',    REV_F.5# lit '"H0505"',    REV_G.0# lit '"H0600"',    REV_G.1# lit '"H0601"',    REV_G.2# lit '"H0602"',    VERSION_NUMBER lit 'REV_G.0#',    /* Expression literals */    SECTS_LEFT lit '(LAST_SECT - (INF.PTR+INF.LEN))',    /* VT100 special characters */    VBAR   lit 'do; pstring(ALTERNATE_CHARS); wchar(lower.x); pstring(NORMAL_CHARS); end',    UPPERL lit 'do; pstring(ALTERNATE_CHARS); wchar(lower.l); pstring(NORMAL_CHARS); end',    LOWERL lit 'do; pstring(ALTERNATE_CHARS); wchar(lower.m); pstring(NORMAL_CHARS); end',    TOPT   lit 'do; pstring(ALTERNATE_CHARS); wchar(lower.w); pstring(NORMAL_CHARS); end',    /* Printer control characters */    GON         lit 'character(03)',     /* Graphics on */    GOFF        lit 'GON,character(02)', /* Graphics off */    LINEFEED    lit 'GON,character(14)',    FORMFEED    lit 'GON,character(12)',    ENHANCE_ON  lit 'character(01)',     /* Double wide characters */    ENHANCE_OFF lit 'character(02)',    /* Macros *//*    DRAW_MODE lit 'if CURLEV ~= 0 then do; data_level(0); CURLEV = 0; end',    ERAS_MODE lit 'if CURLEV ~= 1 then do; data_level(1); CURLEV = 1; end',    COMP_MODE lit 'if CURLEV ~= 2 then do; data_level(2); CURLEV = 2; end',*/    RE_START  lit 'MAIN_DRIVER(true)',    /* Language clarification literals */    clear_all  lit 'clear;clear_screen',/*  clear_all  lit 'clear', */    null       lit '0',    nullint    lit '"077400"';